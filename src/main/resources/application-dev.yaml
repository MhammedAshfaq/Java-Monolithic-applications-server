# Dev profile: Developer Dashboard, Actuator, RabbitMQ link
# Activate with: spring.profiles.active=dev or --spring.profiles.active=dev

spring:
  config:
    activate:
      on-profile: dev
  # Redis config is in application.yaml (uses ${REDIS_HOST:localhost})
  # For Docker, application-docker.yaml overrides with host: redis
  # DO NOT set spring.data.redis.url here - it overrides host/port/password

# Actuator: expose extra endpoints for dev (base config in application.yaml)
# Dev adds: metrics, env, caches, scheduledtasks on top of health, info, prometheus
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics,env,caches,scheduledtasks
  endpoint:
    health:
      # In dev, always show full health details (db, redis, diskSpace, etc.)
      show-details: always
      show-components: always

# Enable debug logging for application code in dev
logging:
  level:
    com.javainfraexample.spring_monolith_template: DEBUG

# Dev dashboard links (used by DevDashboardController)
app:
  dev-dashboard:
    # RabbitMQ Management UI (default: local Docker/host)
    rabbitmq-management-url: http://localhost:15672
    # pgAdmin - PostgreSQL GUI (Docker: docker-compose up -d)
    pgadmin-url: http://localhost:5050
    # Redis Commander - Redis GUI (Docker: docker-compose up -d)
    redis-commander-url: http://localhost:8081
    # Prometheus - Metrics collection & querying
    prometheus-url: http://localhost:9090
    # Grafana - Metrics visualization & dashboards (admin/admin)
    grafana-url: http://localhost:3000
